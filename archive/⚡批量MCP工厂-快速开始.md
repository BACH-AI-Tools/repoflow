# ⚡ 批量 MCP 工厂 - 快速开始

## 🎯 这是什么？

**批量 MCP 工厂** 可以一次性处理你昨天创建的所有 MCP 项目，自动执行完整的发布流程！

### 完整流程（12个步骤）
1. ✅ 扫描项目
2. ✅ 创建 GitHub 仓库
3. ✅ 生成 CI/CD Pipeline
4. ✅ 推送代码
5. ✅ 触发发布并等待完成
6. ✅ 获取包信息
7. ✅ AI 生成模板
8. ✅ 生成 Logo
9. ✅ 发布到 EMCP
10. ✅ MCP 测试
11. ✅ Agent 测试
12. ✅ SignalR 对话测试

**一键完成！不需要手动操作！**

---

## 🚀 3 步开始

### 第 1 步：双击运行

```
双击 batch_mcp_factory.bat
```

### 第 2 步：输入路径

```
请输入 MCP 项目文件夹路径: E:\mcp-projects
```

### 第 3 步：确认开始

```
处理所有项目? (y/n): y
确认继续? (y/n): y
```

**完成！** 🎉

---

## ⏱️ 需要多长时间？

| 项目数 | 预计时间 |
|--------|----------|
| 1 个 | 4-7 分钟 |
| 5 个 | 20-35 分钟 |
| 10 个 | 40-70 分钟 |

**💡 提示：** 处理过程中可以去喝杯咖啡 ☕，脚本会自动完成所有工作！

---

## 📂 项目文件夹是什么样子的？

```
E:\mcp-projects\              ← 你的项目文件夹
├── weather-mcp\             ← 项目 1
│   ├── src\
│   ├── setup.py            ← Python 项目
│   ├── README.md
│   └── mcp\
│       └── readme.md       ← 可选：多语言描述
│
├── translator-mcp\          ← 项目 2
│   ├── src\
│   ├── package.json        ← Node.js 项目
│   ├── README.md
│   └── mcp\
│       └── readme.md       ← 可选
│
└── database-mcp\            ← 项目 3
    └── ...
```

**只要有 `setup.py`/`pyproject.toml` 或 `package.json` 就能识别！**

---

## 🎯 典型场景

### 场景：昨天创建了 10 个 MCP 项目

**以前（手动）：**
- 每个项目手动配置：10 分钟
- GitHub 推送和发布：5 分钟
- EMCP 发布：5 分钟
- 测试：5 分钟
- **总计：25 分钟 × 10 = 250 分钟（4+ 小时）** 😫

**现在（自动）：**
```
双击 batch_mcp_factory.bat
输入路径
确认
等待 40-70 分钟
完成！✅
```

**节省时间：从 4+ 小时 → 40-70 分钟！** ⚡

而且你只需要操作 2 分钟，剩下的时间可以做其他事情！

---

## 📊 处理结果示例

### 处理过程

```
======================================================================
🏭 批量 MCP 工厂
======================================================================
总项目数: 10
环境变量 API_KEY: 已配置
======================================================================

🏭 处理项目 [1/10]
======================================================================
项目: weather-mcp
======================================================================

▶️ 步骤 1/12: 扫描项目
✅ 未发现敏感信息

▶️ 步骤 2/12: 创建 GitHub 仓库
✅ 仓库创建成功

▶️ 步骤 3/12: 生成 CI/CD Pipeline
✅ Pipeline 文件已生成

▶️ 步骤 4/12: 推送代码到 GitHub
✅ 代码推送成功

▶️ 步骤 5/12: 触发发布并等待完成
⏳ 等待包发布到仓库...
✅ 包已成功发布！

▶️ 步骤 6/12: 获取包信息
✅ 步骤完成

▶️ 步骤 7/12: AI 生成模板
✅ AI 生成完成

▶️ 步骤 8/12: 生成 Logo
✅ Logo 生成成功！

▶️ 步骤 9/12: 发布到 EMCP
✅ CREATE 成功！

▶️ 步骤 10/12: MCP 测试
✅ MCP 测试完成

▶️ 步骤 11/12: Agent 测试
✅ Agent 创建和发布完成

▶️ 步骤 12/12: SignalR 对话测试
✅ SignalR 对话测试完成

======================================================================
✅ 项目处理完成: weather-mcp
⏱️ 耗时: 245.3 秒
======================================================================

⏸️ 休息 5 秒后处理下一个项目...

... (其他 9 个项目)
```

### 最终结果

```
======================================================================
📊 批量处理总结
======================================================================

总项目数: 10
  ✅ 成功: 10
  ❌ 失败: 0
  📈 成功率: 100.0%
  ⏱️ 总耗时: 2469.0 秒 (41.2 分钟)
  ⚡ 平均耗时: 246.9 秒/项目

✅ 所有项目都已成功发布！

💾 结果已保存: outputs/batch_results/batch_result_20250125_143025.json
======================================================================
```

---

## 🎁 你会得到什么？

### 对于每个项目，你会得到：

1. ✅ **GitHub 仓库**
   - 完整的代码仓库
   - 自动化 CI/CD Pipeline
   - 版本标签

2. ✅ **PyPI/NPM 包**
   - 已发布到包管理平台
   - 可以通过 `pip install` 或 `npm install` 安装

3. ✅ **EMCP 模板**
   - 专业的多语言描述
   - 精美的 Logo
   - 完整的环境变量配置

4. ✅ **测试报告**
   - MCP 工具测试报告（HTML）
   - Agent 测试结果
   - 对话测试报告

5. ✅ **完整记录**
   - JSON 格式的处理结果
   - 包含所有 URL 和 ID
   - 便于追踪和管理

---

## 💡 进阶用法

### 只处理某几个项目

```bash
# 只处理项目 2, 4, 6
python batch_mcp_factory.py "E:\mcp-projects" --projects "2,4,6"
```

### PowerShell 用法

```powershell
.\batch_mcp_factory.ps1 -ProjectsDir "E:\mcp-projects" -Projects "2,4,6"
```

### 处理失败后重试

```bash
# 假设项目 3 失败了，单独处理
python batch_mcp_factory.py "E:\mcp-projects" --projects "3"
```

---

## ❓ 常见问题

### Q: 必须一次处理所有项目吗？

**A:** 不是！你可以：
- 处理所有项目
- 只处理指定的几个项目
- 一个一个处理

### Q: 处理过程中可以中断吗？

**A:** 可以按 `Ctrl+C` 中断。已处理的项目不会受影响。

### Q: 如果某个项目失败了怎么办？

**A:** 脚本会继续处理其他项目。查看错误信息后，可以单独重新处理失败的项目。

### Q: 需要什么配置？

**A:** 需要在 `config.json` 中配置：
- GitHub Token 和组织名
- PyPI/NPM Token
- EMCP 账号
- Agent 账号
- 即梦 MCP 配置（可选）
- Azure OpenAI 配置（可选）

参考 `config_template.json` 查看完整配置。

### Q: API_KEY 是什么？

**A:** 已经预设为：`c73d0eb842msh082900adbe7d22cp15a3e0jsn8156d94adb0d`

---

## 🔧 准备工作（仅需一次）

### 1. 配置文件

复制 `config_template.json` 为 `config.json`，填写你的配置：

```json
{
  "github": {
    "token": "ghp_your_token",
    "org_name": "BACH-AI-Tools"
  },
  "pypi": {
    "token": "pypi-your_token"
  },
  "emcp": {
    "phone_number": "你的手机号"
  },
  "agent": {
    "phone_number": "你的手机号"
  }
}
```

### 2. 安装依赖（如果还没安装）

```bash
pip install -r requirements.txt
```

### 3. 测试单个项目（推荐）

在批量处理前，先用 MCP 工厂 GUI 测试一个项目：

```bash
python mcp_factory_gui.py
```

确保流程正常后，再进行批量处理。

---

## 🎉 开始吧！

1. ✏️ 配置 `config.json`
2. 🖱️ 双击 `batch_mcp_factory.bat`
3. 📝 输入项目文件夹路径
4. ✅ 确认开始
5. ☕ 喝杯咖啡，等待完成
6. 🎊 查看结果

**就是这么简单！**

---

## 📚 更多信息

- 详细说明：`批量MCP工厂使用说明.md`
- MCP 工厂 GUI：`mcp_factory_gui.py`
- 配置模板：`config_template.json`

---

**祝你批量发布愉快！** 🚀🎉

